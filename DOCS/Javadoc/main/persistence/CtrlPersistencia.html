<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) on Mon Dec 22 23:38:25 CET 2025 -->
<title>CtrlPersistencia</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-12-22">
<meta name="description" content="declaration: package: main.persistence, class: CtrlPersistencia">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/CtrlPersistencia.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">main.persistence</a></div>
<h1 title="Class CtrlPersistencia" class="title">Class CtrlPersistencia</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">main.persistence.CtrlPersistencia</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">CtrlPersistencia</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Controlador ÚNICO de persistencia del sistema.

 <p>Responsabilidad principal: actuar como <b>fachada</b> (Facade) de la capa de persistencia.</p>
 <ul>
   <li>Los controladores de dominio (p.ej. <code>CtrlDominio</code>) <b>SOLO</b> deben hablar con esta clase.</li>
   <li>Esta clase delega en persistencias especializadas:
       <a href="PersistenciaEncuestas.html" title="class in main.persistence"><code>PersistenciaEncuestas</code></a>, <a href="PersistenciaUsuarios.html" title="class in main.persistence"><code>PersistenciaUsuarios</code></a>,
       <a href="PersistenciaRespuestas.html" title="class in main.persistence"><code>PersistenciaRespuestas</code></a>, <a href="PersistenciaClustering.html" title="class in main.persistence"><code>PersistenciaClustering</code></a> y <a href="PersistenciaCSV.html" title="class in main.persistence"><code>PersistenciaCSV</code></a>.</li>
   <li>Implementa <b>carga bajo demanda</b> (lazy loading) mediante flags para encuestas/usuarios/respuestas.</li>
 </ul>

 <h2 id="dise-o-heading">Diseño</h2>
 <ul>
   <li><b>Patrón Facade:</b> simplifica el acceso a persistencia ofreciendo una API única.</li>
   <li><b>Lazy Loading:</b> evita cargar todo de disco si no es necesario.</li>
   <li><b>Delegación:</b> cada persistencia especializada se encarga de su propio formato (JSON/CSV).</li>
 </ul>

 <h2 id="notas-importantes-heading">Notas importantes</h2>
 <ul>
   <li>Encuestas/Usuarios/Respuestas usan flags y se cargan al primer acceso.</li>
   <li>Clustering no usa flag aquí porque <a href="PersistenciaClustering.html" title="class in main.persistence"><code>PersistenciaClustering</code></a> ya carga en el constructor (según tu implementación).</li>
   <li>CSV aquí actúa como utilitario de lectura/escritura de ficheros (no “cachea” estado de dominio).</li>
 </ul></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private boolean</code></div>
<div class="col-second even-row-color"><code><a href="#encuestasCargadas" class="member-name-link">encuestasCargadas</a></code></div>
<div class="col-last even-row-color">
<div class="block">Flag de estado: indica si las encuestas ya fueron cargadas desde disco a memoria.</div>
</div>
<div class="col-first odd-row-color"><code>private final <a href="PersistenciaClustering.html" title="class in main.persistence">PersistenciaClustering</a></code></div>
<div class="col-second odd-row-color"><code><a href="#persistenciaClustering" class="member-name-link">persistenciaClustering</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Persistencia especializada de resultados de clustering (JSON).</div>
</div>
<div class="col-first even-row-color"><code>private final <a href="PersistenciaCSV.html" title="class in main.persistence">PersistenciaCSV</a></code></div>
<div class="col-second even-row-color"><code><a href="#persistenciaCSV" class="member-name-link">persistenciaCSV</a></code></div>
<div class="col-last even-row-color">
<div class="block">Utilidad de lectura/escritura CSV (no conoce dominio).</div>
</div>
<div class="col-first odd-row-color"><code>private final <a href="PersistenciaEncuestas.html" title="class in main.persistence">PersistenciaEncuestas</a></code></div>
<div class="col-second odd-row-color"><code><a href="#persistenciaEncuestas" class="member-name-link">persistenciaEncuestas</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Persistencia especializada de encuestas (JSON por encuesta).</div>
</div>
<div class="col-first even-row-color"><code>private final <a href="PersistenciaRespuestas.html" title="class in main.persistence">PersistenciaRespuestas</a></code></div>
<div class="col-second even-row-color"><code><a href="#persistenciaRespuestas" class="member-name-link">persistenciaRespuestas</a></code></div>
<div class="col-last even-row-color">
<div class="block">Persistencia especializada de respuestas (CSV global).</div>
</div>
<div class="col-first odd-row-color"><code>private final <a href="PersistenciaUsuarios.html" title="class in main.persistence">PersistenciaUsuarios</a></code></div>
<div class="col-second odd-row-color"><code><a href="#persistenciaUsuarios" class="member-name-link">persistenciaUsuarios</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Persistencia especializada de usuarios (JSON).</div>
</div>
<div class="col-first even-row-color"><code>private boolean</code></div>
<div class="col-second even-row-color"><code><a href="#respuestasCargadas" class="member-name-link">respuestasCargadas</a></code></div>
<div class="col-last even-row-color">
<div class="block">Flag de estado: indica si las respuestas ya fueron cargadas desde disco a memoria.</div>
</div>
<div class="col-first odd-row-color"><code>private boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#usuariosCargados" class="member-name-link">usuariosCargados</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Flag de estado: indica si los usuarios ya fueron cargados desde disco a memoria.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.lang.String)" class="member-name-link">CtrlPersistencia</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;directorioData)</code></div>
<div class="col-last even-row-color">
<div class="block">Construye el controlador de persistencia y crea todas las persistencias especializadas.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#asegurarEncuestasCargadas()" class="member-name-link">asegurarEncuestasCargadas</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Asegura que las encuestas estén cargadas; si no, las carga.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#asegurarRespuestasCargadas()" class="member-name-link">asegurarRespuestasCargadas</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Asegura que las respuestas estén cargadas; si no, las carga.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#asegurarUsuariosCargados()" class="member-name-link">asegurarUsuariosCargados</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Asegura que los usuarios estén cargados; si no, los carga.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cargarEncuestas()" class="member-name-link">cargarEncuestas</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Carga todas las encuestas desde disco a memoria.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cargarRespuestas()" class="member-name-link">cargarRespuestas</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Carga respuestas desde disco a memoria.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cargarTodo()" class="member-name-link">cargarTodo</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Fuerza la carga completa en memoria de encuestas, usuarios y respuestas.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cargarUsuarios()" class="member-name-link">cargarUsuarios</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Carga usuarios desde disco a memoria.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#eliminarEncuesta(java.lang.String)" class="member-name-link">eliminarEncuesta</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Elimina una encuesta por id.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#eliminarRespuestasEncuesta(java.lang.String)" class="member-name-link">eliminarRespuestasEncuesta</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idEncuesta)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Elimina todas las respuestas asociadas a una encuesta.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#eliminarResultadosClustering(java.lang.String)" class="member-name-link">eliminarResultadosClustering</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idEncuesta)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Elimina los resultados de clustering guardados para una encuesta.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#esAdmin(java.lang.String)" class="member-name-link">esAdmin</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determina si un usuario dado es administrador (según caché de persistencia).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#escribirCSV(java.lang.String,java.lang.String%5B%5D,java.util.List)" class="member-name-link">escribirCSV</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rutaArchivo,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;encabezados,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&gt;&nbsp;filas)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Escribe un archivo CSV con encabezados.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#escribirCSVRaw(java.lang.String,java.util.List)" class="member-name-link">escribirCSVRaw</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rutaArchivo,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&gt;&nbsp;filas)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Escribe un archivo CSV completo (sin separar encabezados).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#existeEncuesta(java.lang.String)" class="member-name-link">existeEncuesta</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Comprueba si existe una encuesta en la caché.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#existenResultadosClustering(java.lang.String)" class="member-name-link">existenResultadosClustering</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idEncuesta)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Indica si existen resultados de clustering guardados para una encuesta.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#existeUsuario(java.lang.String)" class="member-name-link">existeUsuario</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Comprueba si existe un usuario (admin o respondedor).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#guardarAdmin(java.lang.String)" class="member-name-link">guardarAdmin</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;adminJSON)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Guarda un usuario administrador serializado en JSON.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#guardarEncuesta(java.lang.String)" class="member-name-link">guardarEncuesta</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;encuestaJSON)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Guarda una encuesta serializada en JSON.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#guardarRespondedor(java.lang.String)" class="member-name-link">guardarRespondedor</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;usuarioJSON)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Guarda un usuario respondedor serializado en JSON.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#guardarRespuestas(java.lang.String,java.lang.String,java.util.Map)" class="member-name-link">guardarRespuestas</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idUsuario,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idEncuesta,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;respuestas)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Guarda las respuestas de un usuario para una encuesta.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#guardarResultadosClustering(java.lang.String,java.lang.String)" class="member-name-link">guardarResultadosClustering</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idEncuesta,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resultadosJSON)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Guarda resultados de clustering asociados a una encuesta.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#guardarTodo()" class="member-name-link">guardarTodo</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Fuerza el guardado “final” (flush) de la persistencia que esté cargada.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="PersistenciaCSV.DatosCSV.html" title="class in main.persistence">PersistenciaCSV.DatosCSV</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#leerCSV(java.lang.String)" class="member-name-link">leerCSV</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rutaArchivo)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Lee un archivo CSV con encabezados.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#leerCSVRaw(java.lang.String)" class="member-name-link">leerCSVRaw</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rutaArchivo)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Lee un archivo CSV completo (sin estructura especial de encabezados).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#obtenerAdmin(java.lang.String)" class="member-name-link">obtenerAdmin</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Obtiene un usuario administrador en JSON.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#obtenerEncuesta(java.lang.String)" class="member-name-link">obtenerEncuesta</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Obtiene una encuesta serializada en JSON.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#obtenerEncuestasConClustering()" class="member-name-link">obtenerEncuestasConClustering</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Devuelve el conjunto de encuestas que tienen resultados de clustering guardados.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#obtenerRespondedor(java.lang.String)" class="member-name-link">obtenerRespondedor</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Obtiene un usuario respondedor en JSON.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#obtenerRespuestas(java.lang.String,java.lang.String)" class="member-name-link">obtenerRespuestas</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idUsuario,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idEncuesta)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Obtiene las respuestas de un usuario para una encuesta.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#obtenerResultadosClustering(java.lang.String)" class="member-name-link">obtenerResultadosClustering</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idEncuesta)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Obtiene resultados de clustering guardados.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#obtenerTodasEncuestas()" class="member-name-link">obtenerTodasEncuestas</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Devuelve todas las encuestas como lista de JSON Strings.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#obtenerTodosAdmins()" class="member-name-link">obtenerTodosAdmins</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Obtiene todos los administradores en JSON.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#obtenerTodosRespondedores()" class="member-name-link">obtenerTodosRespondedores</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Obtiene todos los respondedores en JSON.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#obtenerTodosUsuarios()" class="member-name-link">obtenerTodosUsuarios</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Obtiene todos los usuarios (admins + respondedores) en JSON.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#obtenerUsuario(java.lang.String)" class="member-name-link">obtenerUsuario</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Obtiene un usuario (admin o respondedor) en JSON.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#obtenerUsuariosQueRespondieron(java.lang.String)" class="member-name-link">obtenerUsuariosQueRespondieron</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idEncuesta)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Devuelve la lista de IDs de usuarios que han respondido una encuesta (según persistencia).</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="persistenciaEncuestas">
<h3>persistenciaEncuestas</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="PersistenciaEncuestas.html" title="class in main.persistence">PersistenciaEncuestas</a></span>&nbsp;<span class="element-name">persistenciaEncuestas</span></div>
<div class="block">Persistencia especializada de encuestas (JSON por encuesta).
 Guarda y carga encuestas como <code>String</code> JSON.</div>
</section>
</li>
<li>
<section class="detail" id="persistenciaUsuarios">
<h3>persistenciaUsuarios</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="PersistenciaUsuarios.html" title="class in main.persistence">PersistenciaUsuarios</a></span>&nbsp;<span class="element-name">persistenciaUsuarios</span></div>
<div class="block">Persistencia especializada de usuarios (JSON).
 Guarda y carga usuarios como <code>String</code> JSON.</div>
</section>
</li>
<li>
<section class="detail" id="persistenciaRespuestas">
<h3>persistenciaRespuestas</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="PersistenciaRespuestas.html" title="class in main.persistence">PersistenciaRespuestas</a></span>&nbsp;<span class="element-name">persistenciaRespuestas</span></div>
<div class="block">Persistencia especializada de respuestas (CSV global).
 Guarda y carga respuestas como estructuras primitivas:
 <code>Map&lt;idPregunta, valorComoString&gt;</code>.</div>
</section>
</li>
<li>
<section class="detail" id="persistenciaClustering">
<h3>persistenciaClustering</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="PersistenciaClustering.html" title="class in main.persistence">PersistenciaClustering</a></span>&nbsp;<span class="element-name">persistenciaClustering</span></div>
<div class="block">Persistencia especializada de resultados de clustering (JSON).
 Guarda y carga resultados como <code>String</code> JSON.</div>
</section>
</li>
<li>
<section class="detail" id="persistenciaCSV">
<h3>persistenciaCSV</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="PersistenciaCSV.html" title="class in main.persistence">PersistenciaCSV</a></span>&nbsp;<span class="element-name">persistenciaCSV</span></div>
<div class="block">Utilidad de lectura/escritura CSV (no conoce dominio).
 Se usa para import/export y operaciones CSV genéricas.</div>
</section>
</li>
<li>
<section class="detail" id="encuestasCargadas">
<h3>encuestasCargadas</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">encuestasCargadas</span></div>
<div class="block">Flag de estado: indica si las encuestas ya fueron cargadas desde disco a memoria.</div>
</section>
</li>
<li>
<section class="detail" id="usuariosCargados">
<h3>usuariosCargados</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">usuariosCargados</span></div>
<div class="block">Flag de estado: indica si los usuarios ya fueron cargados desde disco a memoria.</div>
</section>
</li>
<li>
<section class="detail" id="respuestasCargadas">
<h3>respuestasCargadas</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">respuestasCargadas</span></div>
<div class="block">Flag de estado: indica si las respuestas ya fueron cargadas desde disco a memoria.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.lang.String)">
<h3>CtrlPersistencia</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">CtrlPersistencia</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;directorioData)</span></div>
<div class="block">Construye el controlador de persistencia y crea todas las persistencias especializadas.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>directorioData</code> - directorio raíz donde se guardarán los datos (p.ej. "./data").</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="cargarTodo()">
<h3>cargarTodo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">cargarTodo</span>()</div>
<div class="block">Fuerza la carga completa en memoria de encuestas, usuarios y respuestas.

 <p>Equivalente a llamar a <a href="#cargarEncuestas()"><code>cargarEncuestas()</code></a>,
 <a href="#cargarUsuarios()"><code>cargarUsuarios()</code></a> y <a href="#cargarRespuestas()"><code>cargarRespuestas()</code></a>.</p></div>
</section>
</li>
<li>
<section class="detail" id="guardarEncuesta(java.lang.String)">
<h3>guardarEncuesta</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">guardarEncuesta</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;encuestaJSON)</span></div>
<div class="block">Guarda una encuesta serializada en JSON.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>encuestaJSON</code> - encuesta en formato JSON.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="obtenerEncuesta(java.lang.String)">
<h3>obtenerEncuesta</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">obtenerEncuesta</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</span></div>
<div class="block">Obtiene una encuesta serializada en JSON.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - identificador de la encuesta.</dd>
<dt>Returns:</dt>
<dd>JSON de la encuesta o <code>null</code> si no existe.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="obtenerTodasEncuestas()">
<h3>obtenerTodasEncuestas</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">obtenerTodasEncuestas</span>()</div>
<div class="block">Devuelve todas las encuestas como lista de JSON Strings.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>lista con JSON de encuestas.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="eliminarEncuesta(java.lang.String)">
<h3>eliminarEncuesta</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">eliminarEncuesta</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</span></div>
<div class="block">Elimina una encuesta por id.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - id de la encuesta.</dd>
<dt>Returns:</dt>
<dd><code>true</code> si se eliminó, <code>false</code> si no existía.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="existeEncuesta(java.lang.String)">
<h3>existeEncuesta</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">existeEncuesta</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</span></div>
<div class="block">Comprueba si existe una encuesta en la caché.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - id de la encuesta.</dd>
<dt>Returns:</dt>
<dd><code>true</code> si existe, <code>false</code> en caso contrario.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="asegurarEncuestasCargadas()">
<h3>asegurarEncuestasCargadas</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">asegurarEncuestasCargadas</span>()</div>
<div class="block">Asegura que las encuestas estén cargadas; si no, las carga.</div>
</section>
</li>
<li>
<section class="detail" id="cargarEncuestas()">
<h3>cargarEncuestas</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">cargarEncuestas</span>()</div>
<div class="block">Carga todas las encuestas desde disco a memoria.</div>
</section>
</li>
<li>
<section class="detail" id="guardarRespondedor(java.lang.String)">
<h3>guardarRespondedor</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">guardarRespondedor</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;usuarioJSON)</span></div>
<div class="block">Guarda un usuario respondedor serializado en JSON.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>usuarioJSON</code> - usuario en formato JSON.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="guardarAdmin(java.lang.String)">
<h3>guardarAdmin</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">guardarAdmin</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;adminJSON)</span></div>
<div class="block">Guarda un usuario administrador serializado en JSON.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>adminJSON</code> - admin en formato JSON.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="obtenerUsuario(java.lang.String)">
<h3>obtenerUsuario</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">obtenerUsuario</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</span></div>
<div class="block">Obtiene un usuario (admin o respondedor) en JSON.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - id del usuario.</dd>
<dt>Returns:</dt>
<dd>JSON del usuario o <code>null</code> si no existe.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="obtenerRespondedor(java.lang.String)">
<h3>obtenerRespondedor</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">obtenerRespondedor</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</span></div>
<div class="block">Obtiene un usuario respondedor en JSON.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - id del usuario.</dd>
<dt>Returns:</dt>
<dd>JSON del respondedor o <code>null</code> si no existe.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="obtenerAdmin(java.lang.String)">
<h3>obtenerAdmin</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">obtenerAdmin</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</span></div>
<div class="block">Obtiene un usuario administrador en JSON.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - id del usuario admin.</dd>
<dt>Returns:</dt>
<dd>JSON del admin o <code>null</code> si no existe.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="obtenerTodosRespondedores()">
<h3>obtenerTodosRespondedores</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">obtenerTodosRespondedores</span>()</div>
<div class="block">Obtiene todos los respondedores en JSON.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>lista de JSON Strings.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="obtenerTodosAdmins()">
<h3>obtenerTodosAdmins</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">obtenerTodosAdmins</span>()</div>
<div class="block">Obtiene todos los administradores en JSON.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>lista de JSON Strings.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="obtenerTodosUsuarios()">
<h3>obtenerTodosUsuarios</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">obtenerTodosUsuarios</span>()</div>
<div class="block">Obtiene todos los usuarios (admins + respondedores) en JSON.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>lista de JSON Strings.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="existeUsuario(java.lang.String)">
<h3>existeUsuario</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">existeUsuario</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</span></div>
<div class="block">Comprueba si existe un usuario (admin o respondedor).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - id del usuario.</dd>
<dt>Returns:</dt>
<dd><code>true</code> si existe.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="esAdmin(java.lang.String)">
<h3>esAdmin</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">esAdmin</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;id)</span></div>
<div class="block">Determina si un usuario dado es administrador (según caché de persistencia).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>id</code> - id del usuario.</dd>
<dt>Returns:</dt>
<dd><code>true</code> si es admin.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="asegurarUsuariosCargados()">
<h3>asegurarUsuariosCargados</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">asegurarUsuariosCargados</span>()</div>
<div class="block">Asegura que los usuarios estén cargados; si no, los carga.</div>
</section>
</li>
<li>
<section class="detail" id="cargarUsuarios()">
<h3>cargarUsuarios</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">cargarUsuarios</span>()</div>
<div class="block">Carga usuarios desde disco a memoria.</div>
</section>
</li>
<li>
<section class="detail" id="guardarRespuestas(java.lang.String,java.lang.String,java.util.Map)">
<h3>guardarRespuestas</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">guardarRespuestas</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idUsuario,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idEncuesta,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;respuestas)</span></div>
<div class="block">Guarda las respuestas de un usuario para una encuesta.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>idUsuario</code> - id del usuario.</dd>
<dd><code>idEncuesta</code> - id de la encuesta.</dd>
<dd><code>respuestas</code> - mapa <code>idPregunta -&gt; valorComoString</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="obtenerRespuestas(java.lang.String,java.lang.String)">
<h3>obtenerRespuestas</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">obtenerRespuestas</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idUsuario,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idEncuesta)</span></div>
<div class="block">Obtiene las respuestas de un usuario para una encuesta.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>idUsuario</code> - id del usuario.</dd>
<dd><code>idEncuesta</code> - id de la encuesta.</dd>
<dt>Returns:</dt>
<dd>mapa <code>idPregunta -&gt; valorComoString</code> (copia defensiva).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="obtenerUsuariosQueRespondieron(java.lang.String)">
<h3>obtenerUsuariosQueRespondieron</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">obtenerUsuariosQueRespondieron</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idEncuesta)</span></div>
<div class="block">Devuelve la lista de IDs de usuarios que han respondido una encuesta (según persistencia).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>idEncuesta</code> - id de la encuesta.</dd>
<dt>Returns:</dt>
<dd>lista de ids de usuarios.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="eliminarRespuestasEncuesta(java.lang.String)">
<h3>eliminarRespuestasEncuesta</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">eliminarRespuestasEncuesta</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idEncuesta)</span></div>
<div class="block">Elimina todas las respuestas asociadas a una encuesta.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>idEncuesta</code> - id de la encuesta.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="asegurarRespuestasCargadas()">
<h3>asegurarRespuestasCargadas</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">asegurarRespuestasCargadas</span>()</div>
<div class="block">Asegura que las respuestas estén cargadas; si no, las carga.</div>
</section>
</li>
<li>
<section class="detail" id="cargarRespuestas()">
<h3>cargarRespuestas</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">cargarRespuestas</span>()</div>
<div class="block">Carga respuestas desde disco a memoria.</div>
</section>
</li>
<li>
<section class="detail" id="guardarResultadosClustering(java.lang.String,java.lang.String)">
<h3>guardarResultadosClustering</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">guardarResultadosClustering</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idEncuesta,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resultadosJSON)</span></div>
<div class="block">Guarda resultados de clustering asociados a una encuesta.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>idEncuesta</code> - id de la encuesta.</dd>
<dd><code>resultadosJSON</code> - resultados en formato JSON.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="obtenerResultadosClustering(java.lang.String)">
<h3>obtenerResultadosClustering</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">obtenerResultadosClustering</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idEncuesta)</span></div>
<div class="block">Obtiene resultados de clustering guardados.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>idEncuesta</code> - id de la encuesta.</dd>
<dt>Returns:</dt>
<dd>JSON de resultados o <code>null</code> si no hay.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="existenResultadosClustering(java.lang.String)">
<h3>existenResultadosClustering</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">existenResultadosClustering</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idEncuesta)</span></div>
<div class="block">Indica si existen resultados de clustering guardados para una encuesta.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>idEncuesta</code> - id de la encuesta.</dd>
<dt>Returns:</dt>
<dd><code>true</code> si existen resultados no vacíos.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="eliminarResultadosClustering(java.lang.String)">
<h3>eliminarResultadosClustering</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">eliminarResultadosClustering</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;idEncuesta)</span></div>
<div class="block">Elimina los resultados de clustering guardados para una encuesta.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>idEncuesta</code> - id de la encuesta.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="obtenerEncuestasConClustering()">
<h3>obtenerEncuestasConClustering</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">obtenerEncuestasConClustering</span>()</div>
<div class="block">Devuelve el conjunto de encuestas que tienen resultados de clustering guardados.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>set de IDs de encuestas.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="leerCSV(java.lang.String)">
<h3>leerCSV</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="PersistenciaCSV.DatosCSV.html" title="class in main.persistence">PersistenciaCSV.DatosCSV</a></span>&nbsp;<span class="element-name">leerCSV</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rutaArchivo)</span>
                                 throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Lee un archivo CSV con encabezados.

 <p>La primera fila se interpreta como encabezados, y las siguientes como filas de datos.
 La implementación concreta delega en <a href="PersistenciaCSV.html#leerConEncabezados(java.lang.String)"><code>PersistenciaCSV.leerConEncabezados(String)</code></a>.</p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rutaArchivo</code> - ruta del archivo a leer.</dd>
<dt>Returns:</dt>
<dd><a href="PersistenciaCSV.DatosCSV.html" title="class in main.persistence"><code>PersistenciaCSV.DatosCSV</code></a> con encabezados y filas.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - si ocurre un error leyendo el archivo.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="escribirCSV(java.lang.String,java.lang.String[],java.util.List)">
<h3>escribirCSV</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">escribirCSV</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rutaArchivo,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;encabezados,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&gt;&nbsp;filas)</span>
                 throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Escribe un archivo CSV con encabezados.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rutaArchivo</code> - ruta del archivo a escribir.</dd>
<dd><code>encabezados</code> - primera fila del CSV.</dd>
<dd><code>filas</code> - filas de datos (sin incluir encabezados).</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - si ocurre un error escribiendo el archivo.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="leerCSVRaw(java.lang.String)">
<h3>leerCSVRaw</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&gt;</span>&nbsp;<span class="element-name">leerCSVRaw</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rutaArchivo)</span>
                          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Lee un archivo CSV completo (sin estructura especial de encabezados).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rutaArchivo</code> - ruta del archivo.</dd>
<dt>Returns:</dt>
<dd>lista de filas crudas (<code>String[]</code> por fila).</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - si ocurre un error leyendo el archivo.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="escribirCSVRaw(java.lang.String,java.util.List)">
<h3>escribirCSVRaw</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">escribirCSVRaw</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;rutaArchivo,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&gt;&nbsp;filas)</span>
                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Escribe un archivo CSV completo (sin separar encabezados).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rutaArchivo</code> - ruta del archivo.</dd>
<dd><code>filas</code> - filas crudas (<code>String[]</code> por fila).</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - si ocurre un error escribiendo el archivo.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="guardarTodo()">
<h3>guardarTodo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">guardarTodo</span>()</div>
<div class="block">Fuerza el guardado “final” (flush) de la persistencia que esté cargada.

 <p>Solo guarda usuarios y respuestas si fueron cargados previamente.
 Esto evita I/O innecesario si no se usaron en la ejecución.</p></div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
